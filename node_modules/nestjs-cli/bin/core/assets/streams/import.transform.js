"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const stream_1 = require("stream");
class ImportTransform extends stream_1.Transform {
    constructor(className, dirname) {
        super({ encoding: 'utf-8' });
        this.className = className;
        this.dirname = dirname;
        this.template = 'import {__CLASS_NAME__} from __DIR_NAME__;\n';
    }
    _transform(chunk, encoding, done) {
        const lines = chunk.toString().split('\n');
        const emptyIndex = lines.findIndex(line => line === '');
        lines[emptyIndex] = this.template.replace('__CLASS_NAME__', this.className).replace('__DIR_NAME__', this.dirname);
        this.push(lines.join('\n'));
        done();
    }
}
exports.ImportTransform = ImportTransform;
