"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const util_1 = require("util");
const file_system_utils_1 = require("../utils/file-system.utils");
const path = require("path");
class ConfigurationService {
    static load() {
        return file_system_utils_1.FileSystemUtils.readFile(path.join(process.cwd(), 'nestconfig.json'))
            .then(content => {
            return JSON.parse(content);
        })
            .then(property => {
            Object.keys(property).forEach(key => {
                const value = property[key];
                this.PROPERTIES.set(key, value);
            });
        });
    }
    static getProperty(propertyKey) {
        let propertyValue = this.PROPERTIES.get(propertyKey);
        if (util_1.isNullOrUndefined(propertyValue))
            throw new Error(`Missing property "${propertyKey}"`);
        return propertyValue;
    }
}
ConfigurationService.PROPERTIES = new Map();
exports.ConfigurationService = ConfigurationService;
