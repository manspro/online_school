"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const asset_enum_1 = require("../../common/asset/enums/asset.enum");
const module_processor_1 = require("../../core/assets/processors/module.processor");
const controller_processor_1 = require("../../core/assets/processors/controller.processor");
const component_processor_1 = require("../../core/assets/processors/component.processor");
const configuration_service_1 = require("../../core/configuration/configuration.service");
const logger_service_1 = require("../../core/logger/logger.service");
const ASSETS_MAP = new Map([
    ['module', asset_enum_1.AssetEnum.MODULE],
    ['controller', asset_enum_1.AssetEnum.CONTROLLER],
    ['component', asset_enum_1.AssetEnum.COMPONENT],
]);
class GenerateCommandHandler {
    execute(args, options, logger) {
        logger_service_1.LoggerService.setLogger(logger);
        return configuration_service_1.ConfigurationService.load()
            .then(() => {
            const asset = ASSETS_MAP.get(args.asset);
            const name = args.name;
            const language = configuration_service_1.ConfigurationService.getProperty('language');
            switch (asset) {
                case asset_enum_1.AssetEnum.MODULE:
                    return new module_processor_1.ModuleProcessor(name, language).process();
                case asset_enum_1.AssetEnum.CONTROLLER:
                    return new controller_processor_1.ControllerProcessor(name, language).process();
                case asset_enum_1.AssetEnum.COMPONENT:
                    return new component_processor_1.ComponentProcessor(name, language).process();
            }
        });
    }
}
exports.GenerateCommandHandler = GenerateCommandHandler;
